<!-- patTemplate:tmpl name="content" -->
<div class="row">
    <div class="col-lg-12">
        <h2 class="page-header">Daftar Rekap Project</h2>
    </div>
</div>

<!-- patTemplate:tmpl name="warning_box" visibility="hidden" -->
<div class="alert alert-{CLASS_PESAN}">{ISI_PESAN}</div>
<!-- /patTemplate:tmpl -->

<div class="row">
    <div class="col-lg-12">
       <div class="panel panel-default">
          <div class="panel-heading" role="tab" id="acrdHeadFilter">
            <h4 class="panel-title">
               <a role="button" data-toggle="collapse" data-parent="#accordion" href="#acrdClpsFilter" aria-expanded="{EXPAND}" aria-controls="acrdClpsFilter">
                  <span class="fa fa-search"></span>
                  &nbsp;Filter / Cari Data
               </a>
            </h4>
          </div>
          <div id="acrdClpsFilter" class="panel-collapse collapse {COLLAPSE}" role="tabpanel" aria-labelledby="acrdHeadFilter">
            <div class="panel-body">
               <form role="form" method="POST" action="{URL_SEARCH}" class="dataquest xhr_simple_form dest_subcontent-element" id="filterbox">
                  <div class="row">
                     <div class="col-md-4 col-xs-12">
                        <div class="form-group">
                           <label>Nama Project</label>
                           <input type="text" name="pr" class="form-control input-sm" value="{FILTER_PR}" size="30" />
                        </div>
                     </div>
                     <div class="col-md-4 col-xs-12">
                        <div class="form-group">
                           <label>Perguruan Tinggi</label>
                           <input type="text" name="pete" class="form-control input-sm" value="{FILTER_PETE}" size="30" /><br/>
                        </div>
                     </div>
                     <div class="col-md-4 col-xs-12">
                        <div class="form-group">
                           <label>Dok. Project</label>
                           <input type="text" name="dokpro" class="form-control input-sm" value="{FILTER_DOKPRO}" size="30" /><br/>
                        </div>
                     </div>
                     <div class="col-md-4 col-xs-12">
                        <div class="form-group">
                           <label>Tahun</label>
                           <input type="text" name="tahun" class="form-control input-sm" id="tahun" value="{FILTER_TAHUN}" size="30" /><br/>
                        </div>
                     </div>
                     <div class="col-md-4 col-xs-12">
                        <div class="form-group">
                           <label>Status</label>
                           <!-- patTemplate:gtfwrendermodule name="status" module="combobox2" submodule="combobox2" action="view" type="html" params="" / -->
                        </div>
                     </div>
                     <div class="col-md-4 col-xs-12 text-center">
                        <div class="visible-md visible-lg space-p"></div>
                        <button class="btn btn-info btn-block" type="submit">Terapkan Filter</button>
                     </div>
                  </div>
               </form>
            </div>
          </div>
        </div>
    </div>
</div>


<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Project
                <!--
                <p class="action-wrap">
                    <a class="xhr dest_subcontent-element btn btn-success" href="{PROJECT_URL_ADD}" role="button" title="Tambah Project" tabindex="2"><span class="fa fa-plus"></span>&nbsp;Tambah</a>
                </p>
                -->
            </div>
            <div class="panel-body">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover" id="table-doc-jenis">
                        <thead>
                            <tr>
                                <th rowspan="2" class="th-no">No</th>
                                <!--
                                <th rowspan="2" class="th-aksi">Aksi</th>
                                -->
                                <th rowspan="2">Nick</th>
                                <th rowspan="2" class="tcol-mw-250">Nama Project</th>
                                <th rowspan="2" class="tcol-mw-250">Perguruan Tinggi</th>
                                <th rowspan="2" class="tcol-mw-250">Dok. Project</th>
                                <th rowspan="2" class="tcol-mw-250">Dok. Kontrak</th>
                                <th colspan="2">Waktu</th>
                                <th rowspan="2">Status</th>
                                <th rowspan="2" class="tcol-des">Deskripsi</th>
                                <th colspan="2">Kontrak</th>
                                <th rowspan="2">Akhir Maintenance</th>
                                <th rowspan="2">Model Bisnis</th>
                                <th rowspan="2">Job Order</th>
                                <th rowspan="2">Account Manager</th>
                                <th rowspan="2">BAST</th>
                                <th colspan="3">Toleransi</th>
                                <th rowspan="2" class="tcol-ket">Keterangan</th>
                            </tr>
                            <tr>
                              <th>Mulai</th>
                              <th>Akhir</th>
                              <th>Mulai</th>
                              <th>Akhir</th>
                              <th>Pakai</th>
                              <th>Mulai</th>
                              <th>Akhir</th>
                            </tr>
                        </thead>
                        <tbody>
                        <!-- patTemplate:tmpl name="data_project" type="condition" conditionvar="PROJECT_EMPTY" -->
                        <!-- patTemplate:sub condition="YES" -->
                        <tr><td colspan="21" align="center"><em>-- Data tidak ditemukan --</em></td></tr>
                        <!-- /patTemplate:sub -->
                        <!-- patTemplate:sub condition="NO" -->
                        <!-- patTemplate:tmpl name="data_project_item" -->
                        <tr class="{PROJECT_CLASS_NAME}">
                            <td>{PROJECT_NUMBER}</td>
                            <!--
                            <td class="links">
                                <div class="btn-toolbar">
                                    <div class="btn-group btn-group-sm">
                                        <a class="xhr dest_subcontent-element btn btn-default" href="{PROJECT_URL_DETAIL}" title="Detail">
                                            <span class="fa fa-list-alt"></span>
                                        </a>
                                        <a class="xhr dest_subcontent-element btn btn-default" href="{PROJECT_URL_EDIT}" title="Ubah">
                                            <span class="fa fa-pencil"></span>
                                        </a>
                                        <a class="xhr dest_subcontent-element btn btn-default" href="{PROJECT_URL_DELETE}" title="Hapus">
                                            <span class="fa fa-trash-o"></span>
                                        </a>
                                    </div>
                                </div>
                            </td>
                            -->
                            <td>{PROJECT_PROJECTNICK}</td>
                            <td>{PROJECT_PROJECTNAME}</td>
                            <td>{PROJECT_PETE_NICK}
                              <br>({PROJECT_PETE_NAME})
                            </td>
                            <td>{PROJECT_DOKPRO_NICK}
                              <br>({PROJECT_DOKPRO_NAME})
                            </td>
                            <td>{PROJECT_DOKCON_NICK}
                              <br>({PROJECT_DOKCON_NAME})
                            </td>
                            <td>{PROJECT_DATE_START}</td>
                            <td>{PROJECT_DATE_END}</td>
                            <td>{PROJECT_STATUS_GROUP}
                              <br>{PROJECT_STATUS_DETAIL}
                            </td>
                            <td>{PROJECT_PROJECTDES}</td>
                            <td>{PROJECT_DATE_START}</td>
                            <td>{PROJECT_PROJECTDATECONEND}</td>
                            <td>{PROJECT_PROJECTDATEMTCEND}</td>
                            <td>{PROJECT_BISNISMODEL}</td>
                            <td><a href="{PROJECT_PROJECTORDER}" target="_blank">{PROJECT_PROJECTORDER}</a></td>
                            <td>{PROJECT_PERSONALNAME}</td>
                            <td>{PROJECT_PROJECTDATEBAST}</td>
                            <td>{PROJECT_PROJECTTOLEUSE}</td>
                            <td>{PROJECT_PROJECTDATETOLESTART}</td>
                            <td>{PROJECT_PROJECTDATETOLEEND}</td>
                            <td>{PROJECT_PROJECTNOTE}</td>
                        </tr>
                        <!-- /patTemplate:tmpl -->
                        <!-- /patTemplate:sub -->
                        <!-- /patTemplate:tmpl -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .table-common td {
        vertical-align: top;
    }

    .action-wrap {
         margin-top: -7px;
         float: right;
    }

    .space-p {
      padding-bottom: 22px;
    }

    th {
      text-align: center;
      vertical-align: middle !important;
    }
    .th-no {
      width: 25px;
    }
    .th-aksi {
      width: 115px;
    }
    .table-responsive {
      overflow-x: hidden;
    }
    .tcol-mw-250 {
      min-width: 160px;
    }
    .tcol-des {
      min-width: 440px;
    }
    .tcol-ket {
      min-width: 280px;
    }
    .btn-group, div.dt-buttons{
    float: right;
    }

</style>

<script type="text/javascript">
$(function(){
  $("#tahun").datepicker( {
    format: " yyyy", // Notice the Extra space at the beginning
    viewMode: "years",
    minViewMode: "years",
    clearBtn: "true"
  })
});

$(function () {
  $('#table-doc-jenis').DataTable({
    "paging": true,
    "searching": false,
    "ordering": false,
    "info": true,
    "sort": false,
    "autoWidth": false,
    "processing": true,
    "aLengthMenu": [[2, 5, 10, 25, 50, -1], [2, 5, 10, 25, 50, "All"]],
    "iDisplayLength": 5,
    "pagingType": "full_numbers",
    "scrollX": true,
    "scrollY": false,
    "language": {
      "search": "Cari semua:",
      "info": " Memuat _START_ sampai _END_ dari <strong>_TOTAL_</strong> entri",
      "lengthMenu": "Tampilkan _MENU_ Entri",
      "infoEmpty": "Memuat 0 entri",
      "zeroRecords": "Tidak ada entri project.",
      "infoFiltered": "(dari <strong>_MAX_</strong> total entri)",
      "paginate": {
        "previous": "<i class=\"fa fa-backward\"></i>",
        "next": "<i class=\"fa fa-forward\"></i>",
        "first": "<i class=\"fa fa-fast-backward\"></i>",
        "last": "<i class=\"fa fa-fast-forward\"></i>"
        }
      },
      "dom": "<'row'<'col-md-2'l><'col-md-5'f><'col-md-5'B>><'row'<'col-md-12't>><'row'<'col-md-6'i><'col-md-6'p>>",
      "swfPath" : 'main/lib/datatables/extensions/Buttons/swf/flashExport.swf',
      "buttons": [
            'copy',
            {
                extend : 'csvFlash',
                FileName : 'MANAKO_Daftar_Rekap_Project',
                title: 'MANAKO_Daftar_Rekap_Project'
            },
            {
                extend : 'excelFlash',
                FileName : 'MANAKO_Daftar_Rekap_Project',
                title: 'MANAKO_Daftar_Rekap_Project'
            },
    ]
  });
});
</script>

<!-- /patTemplate:tmpl -->
